<div>
  <!-- Loader Jobs Table -->
  <div class="form-group">
    <div class="flex-children gray-lightest pt-sm pr-sm pb-sm pl-sm loader-jobs-search-form-container">
      <label for="search" class="sr-only">Search by Test Package Name</label>
      <div class="flex-child grow">
        <input [(ngModel)]="searchTerm" class="flex-child search form-control" id="search" type="text" placeholder="Search by Test Package Name"
             autocomplete="off" (ngModelChange)="onSearchChange()">
      </div>
      <div class="flex-child"><button class="flex-child btn view-loaded-test-packages">View Loaded Test Packages</button></div>
      <div class="flex-child"><button class="btn btn-primary upload-test-package" (click)="uploadClick()">Upload New Test Package</button></div>
    </div>
  </div>
  <div class="loader-jobs-list-container">
    <p-dataTable [value]="filteredLoaderJobs"
                 emptyMessage="No Test Package load jobs found for the specific test package id."
                 dataKey="id"
                 sortField="dateCreated"
                 sortOrder="-1"
                 selectionMode="single"
                 [(selection)]="selectedJob"
                 tableStyleClass="table table-striped table-hover overflow"
                 [paginator]="true"
                 [rows]="10"
                 (onRowSelect)="onRowSelect($event)">
      <p-column field="id" header="ID" [sortable]="true"></p-column>
      <p-column field="testPackageName" header="Test Package Name" [sortable]="true"></p-column>
      <p-column field="dateCreated" header="Date Created" [sortable]="true">
        <ng-template let-job="rowData" pTemplate="body">
          {{ job.dateCreated | date: 'short' }}
        </ng-template>
      </p-column>
      <p-column field="tdsStepStatus" header="TDS">
        <ng-template let-job="rowData" pTemplate="body">
          <i *ngIf="job.tdsStepStatus === StepStatuses.Success" class="fa fa-check-circle" title="The job was successful"></i>
          <i *ngIf="job.tdsStepStatus === StepStatuses.Failed" class="fa fa-exclamation-circle" title="The job has failures"></i>
          <i *ngIf="job.tdsStepStatus === StepStatuses.NotApplicable" class="fa fa-minus"></i>
          <i *ngIf="job.tdsStepStatus === StepStatuses.InProgress" class="fa fa-refresh" title="The job is in progress"></i>
          <i *ngIf="job.tdsStepStatus === StepStatuses.NotStarted" class="fa fa-hourglass" title="The job is pending"></i>
        </ng-template>
      </p-column>
      <p-column field="artStepStatus" header="ART">
        <ng-template let-job="rowData" pTemplate="body">
          <i *ngIf="job.artStepStatus === StepStatuses.Success" class="fa fa-check-circle" title="The job was successful"></i>
          <i *ngIf="job.artStepStatus === StepStatuses.Failed" class="fa fa-exclamation-circle" title="The job has failures"></i>
          <i *ngIf="job.artStepStatus === StepStatuses.NotApplicable" class="fa fa-minus"></i>
          <i *ngIf="job.artStepStatus === StepStatuses.InProgress" class="fa fa-refresh" title="The job is in progress"></i>
          <i *ngIf="job.artStepStatus === StepStatuses.NotStarted" class="fa fa-hourglass" title="The job is pending"></i>
        </ng-template>
      </p-column>
      <p-column field="tisStepStatus" header="TIS">
        <ng-template let-job="rowData" pTemplate="body">
          <i *ngIf="job.tisStepStatus === StepStatuses.Success" class="fa fa-check-circle" title="The job was successful"></i>
          <i *ngIf="job.tisStepStatus === StepStatuses.Failed" class="fa fa-exclamation-circle" title="The job has failures"></i>
          <i *ngIf="job.tisStepStatus === StepStatuses.NotApplicable" class="fa fa-minus"></i>
          <i *ngIf="job.tisStepStatus === StepStatuses.InProgress" class="fa fa-refresh" title="The job is in progress"></i>
          <i *ngIf="job.tisStepStatus === StepStatuses.NotStarted" class="fa fa-hourglass" title="The job is pending"></i>
        </ng-template>
      </p-column>
      <p-column field="thssStepStatus" header="THSS">
        <ng-template let-job="rowData" pTemplate="body">
          <i *ngIf="job.thssStepStatus === StepStatuses.Success" class="fa fa-check-circle" title="The job was successful"></i>
          <i *ngIf="job.thssStepStatus === StepStatuses.Failed" class="fa fa-exclamation-circle" title="The job has failures"></i>
          <i *ngIf="job.thssStepStatus === StepStatuses.NotApplicable" class="fa fa-minus"></i>
          <i *ngIf="job.thssStepStatus === StepStatuses.InProgress" class="fa fa-refresh" title="The job is in progress"></i>
          <i *ngIf="job.thssStepStatus === StepStatuses.NotStarted" class="fa fa-hourglass" title="The job is pending"></i>
        </ng-template>
      </p-column>
    </p-dataTable>
  </div>
</div>
